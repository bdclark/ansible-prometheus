---
#############################
# COMMON
#############################
# which components to install
prometheus_components: []
  # - prometheus
  # - alertmanager
  # - node_exporter
  # - blackbox_exporter
  # - consul_exporter
  # - elasticsearch_exporter
  # - mongodb_exporter
  # - rabbitmq_exporter

# whether to create prometheus user/group
prometheus_manage_user: yes
prometheus_user: prometheus
prometheus_group: prometheus

# default directories for exporters
prometheus_exporters_bin_dir: /opt/prometheus/exporters
prometheus_exporters_config_dir: /etc/prometheus/exporters

#############################
# PROMETHEUS
#############################
# version to install
prometheus_version: 2.1.0
# checksum is optional
prometheus_checksum: f181f619c9a8e0750c1ac940eb00a0881cc50386d896f06f159e9a5b68db60a0
# whether service is enabled and started
prometheus_service_enabled: yes
# additional command-line flags
prometheus_flags: {}
# installation directory
prometheus_bin_dir: /opt/prometheus
# prometheus data directory
prometheus_data_dir: /var/lib/prometheus
# configuration directory (for prometheus.yml)
prometheus_config_dir: /etc/prometheus
# directory to copy rules into
prometheus_rule_dir: "{{ prometheus_config_dir }}/rules"
# by default, members of `prometheus_group` can only read the rules directory
# changing to 0775 will allow members to add/edit rule files
prometheus_rule_dir_mode: 0755
# whether to ensure `prometheus_rule_dir` _only_ contains files listed in `prometheus_rule_files`
# all other files will be deleted
prometheus_manage_rule_dir: yes
# list of filenames to exclude from deletion if `prometheus_manage_rule_dir` is enabled
# (helpful if specific rule file(s) may be managed outside this role)
prometheus_rule_files_ignore: []

# prometheus config file sections
## global config
prometheus_global_config: {}
## list of rule filenames to copy from `prometheus_rule_src_dir`
## files will be copied to `prometheus_rule_dir`
prometheus_rule_files: []
## scrape_configs (list of jobs)
prometheus_scrape_configs: []
## alerting, remote_write, remote_read configs
prometheus_alerting_config: ~
prometheus_remote_write_config: ~
prometheus_remote_read_config: ~

# source directory containing rule_files
prometheus_rule_src_dir: "{{ playbook_dir }}/files/rules"
# custom template source for prometheus.yml
prometheus_config_src: prometheus.yml.j2


#############################
# ALERTMANAGER
#############################
# version to install
alertmanager_version: 0.14.0
# checksum is optional
alertmanager_checksum: caddbbbe3ef8545c6cefb32f9a11207ae18dcc788e8d0fb19659d88c58d14b37
# whether service is enabled and started
alertmanager_service_enabled: yes
# additional command-line flags
alertmanager_flags: {}
# installation directory
alertmanager_bin_dir: /opt/alertmanager
# configuration directory (for alertmanager.yml)
alertmanager_config_dir: /etc/alertmanager
# templates directory
alertmanager_template_dir: "{{ alertmanager_config_dir }}/templates"
# alertmanager data directory
alertmanager_data_dir: /var/lib/alertmanager

# alertmanager config file sections
## global config
alertmanager_global_config: {}
## list of template filenames to copy from ``
alertmanager_templates: []
## root route (required)
alertmanager_root_route: {}
## list of child routes
alertmanager_child_routes: []
## receivers section (list of receivers)
alertmanager_receivers: []
## inhibit_rules section
alertmanager_inhibit_rules: ~

# source directory containing template files
alertmanager_template_src_dir: "{{ playbook_dir }}/files/templates"
# custom template source for alertmanager.yml
alertmanager_config_src: alertmanager.yml.j2


#############################
# NODE_EXPORTER
#############################
# version to install
node_exporter_version: 0.15.0
# checksum is optional
node_exporter_checksum: 9413b3c94dbe9d4341ce85ea7e3f0e20abb8804135b8c236c4440c2c841551d7
# installation directory
node_exporter_bin_dir: "{{ prometheus_exporters_bin_dir }}/node_exporter"
# whether service is enabled and started
node_exporter_service_enabled: yes
# command-line flags
node_exporter_flags: {}
# list of collectors enabled (in addition to default)
node_exporter_collectors_enabled: []
# list of collectors disabled (in addition to default)
node_exporter_collectors_disabled: []


#############################
# BLACKBOX_EXPORTER
#############################
# version to install
blackbox_exporter_version: 0.10.0
# checksum is optional
blackbox_exporter_checksum: 2550e6b2bffec48e742cd47e3873742c51cf3a979dbe5ea2bf228e8c135aedf2
# installation directory
blackbox_exporter_bin_dir: "{{ prometheus_exporters_bin_dir }}/blackbox_exporter"
# configuration file path
blackbox_exporter_config_file: "{{ prometheus_exporters_config_dir }}/blackbox_exporter.yml"
# whether service is enabled and started
blackbox_exporter_service_enabled: yes
# additional command-line flags
blackbox_exporter_flags: {}
# exporter configuration
blackbox_exporter_config: {}


#############################
# CONSUL_EXPORTER
#############################
# version to install
consul_exporter_version: 0.3.0
# checksum is optional
consul_exporter_checksum: a7ee604d6c16fd096fff2f8f8d07da3a66c79b04b9135b8c71f0b9c79098e1ec
# installation directory
consul_exporter_bin_dir: "{{ prometheus_exporters_bin_dir }}/consul_exporter"
# whether service is enabled and started
consul_exporter_service_enabled: yes
# command-line flags
consul_exporter_flags: {}

#############################
# MYSQLD_EXPORTER
#############################
# version to install
mysqld_exporter_version: 0.10.0
# checksum is optional
mysqld_exporter_checksum: 32797bc96aa00bb20e0b9165f6d3887fe9612b474061ee7de0189f5377b61859
# installation directory
mysqld_exporter_bin_dir: "{{ prometheus_exporters_bin_dir }}/mysqld_exporter"
# whether service is enabled and started
mysqld_exporter_service_enabled: yes
# command-line flags
mysqld_exporter_flags: {}
# exporter data source name: https://github.com/prometheus/mysqld_exporter#setting-the-mysql-servers-data-source-name
# mysqld_exporter_data_source_name: [username[:password]@][protocol[(address)]]/dbname[?param1=value1&...&paramN=valueN]

#############################
# ELASTICSEARCH_EXPORTER (THIRD-PARTY)
#############################
# version to install
elasticsearch_exporter_version: 1.0.1
# url to download tarball
elasticsearch_exporter_url: https://github.com/justwatchcom/elasticsearch_exporter/releases/download/v{{ elasticsearch_exporter_version }}/elasticsearch_exporter-{{ elasticsearch_exporter_version }}.linux-amd64.tar.gz
# checksum is optional
elasticsearch_exporter_checksum: ~
# installation directory
elasticsearch_exporter_bin_dir: "{{ prometheus_exporters_bin_dir }}/elasticsearch_exporter"
# whether service is enabled and started
elasticsearch_exporter_service_enabled: yes
# command-line flags
elasticsearch_exporter_flags: {}

#############################
# MONGODB_EXPORTER (THIRD-PARTY)
#############################
# version to install
mongodb_exporter_version: 0.3.1
# url to download tarball
mongodb_exporter_url: https://github.com/percona/mongodb_exporter/releases/download/v{{ mongodb_exporter_version }}/mongodb_exporter-{{ mongodb_exporter_version }}.linux-amd64.tar.gz
# checksum is optional
mongodb_exporter_checksum: ~
# installation directory
mongodb_exporter_bin_dir: "{{ prometheus_exporters_bin_dir }}/mongodb_exporter"
# whether service is enabled and started
mongodb_exporter_service_enabled: yes
# command-line flags
mongodb_exporter_flags: {}

#############################
# RABBITMQ_EXPORTER (THIRD-PARTY)
#############################
# version to install
rabbitmq_exporter_version: 0.23.0
# url to download tarball
rabbitmq_exporter_url: https://github.com/kbudde/rabbitmq_exporter/releases/download/v0.23.0/rabbitmq_exporter-0.23.0.linux-amd64.tar.gz
# checksum is optional
rabbitmq_exporter_checksum: ~
# installation directory
rabbitmq_exporter_bin_dir: "{{ prometheus_exporters_bin_dir }}/rabbitmq_exporter"
# whether service is enabled and started
rabbitmq_exporter_service_enabled: yes
# environment variables passed to service
rabbitmq_exporter_env_vars: {}
